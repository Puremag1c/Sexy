{"id":"Sexy-2jw","title":"Create Sexy.Bot public API","description":"Sexy.Bot.send(:name, object), Sexy.Bot.notify(:name, cid, msg, opts), Sexy.Bot.send_message(:name, cid, text), и все 30+ делегатов из текущего Sexy. Sexy.Bot.build(map) — без имени (просто struct conversion). Poller при диспатче передаёт bot_name вторым аргументом в Session callbacks: handle_command(update, bot), handle_query(update, bot) и т.д. Behaviour Sexy.Session обновляется соответственно.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:56:08Z","updated_at":"2026-02-18T16:01:43Z","dependencies":[{"issue_id":"Sexy-2jw","depends_on_id":"Sexy-ajq","type":"blocks","created_at":"2026-02-24T21:31:43Z","created_by":"m","metadata":"{}"},{"issue_id":"Sexy-2jw","depends_on_id":"Sexy-t6y","type":"blocks","created_at":"2026-02-24T21:31:43Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-3p3","title":"Migration guide 0.8 → 0.9.1","description":"Добавить секцию в MIGRATION.md: замена {Sexy, token:, session:} → Sexy.Bot в children + Sexy.Bot.open() в runtime. Все Sexy.* → Sexy.Bot.*(:name, ...). HTTPoison override больше не нужен.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-18T15:56:12Z","updated_at":"2026-02-18T15:56:12Z","dependencies":[{"issue_id":"Sexy-3p3","depends_on_id":"Sexy-2jw","type":"blocks","created_at":"2026-02-24T21:31:44Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-3ve","title":"Create Sexy.Bot.Riser — per-bot supervisor","description":"Supervisor для одного бота. Стратегия :one_for_all. Дети: [Poller]. Poller параметризован именем бота — читает token/session из Registry. Регистрация через {:via, Registry, ...} вместо name: __MODULE__.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:55:54Z","updated_at":"2026-02-18T15:55:54Z","dependencies":[{"issue_id":"Sexy-3ve","depends_on_id":"Sexy-8fd","type":"blocks","created_at":"2026-02-24T21:31:40Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-4ze","title":"Refactor Sender.deliver: reduce complexity and nesting","description":"deliver has complexity 10 and nesting depth 3. Extract type-specific send logic and on_success handler into separate functions.","design":"Extract 3 helpers from deliver/2: (1) parse_mode/1 — pattern match on entity to return {parse, text}; (2) send_by_type/4 — 3 clauses for txt/file/media dispatching to API; (3) update_screen/3 — delete old mid + save new mid via session. Main deliver becomes: detect type → parse mode → send → case ok/error with single if for update_mid. Complexity 10→3, nesting 3→1.","status":"deleted","priority":2,"issue_type":"task","created_at":"2026-02-19T17:31:12Z","updated_at":"2026-02-24T18:37:57Z"}
{"id":"Sexy-6kg","title":"Refactor Handler.recursive_match: reduce nesting depth","description":"recursive_match has nesting depth 3 (max 2). Extract inner Enum.map callback into a named function.","design":"Extract inner Enum.map anonymous fn into recurse_if_typed/2 with two clauses: (1) when is_map — check @type key, recurse if present, return as-is otherwise; (2) catch-all returns item. Both map and list branches of reduce use it. Nesting 3→1.","status":"deleted","priority":2,"issue_type":"task","created_at":"2026-02-19T17:31:13Z","updated_at":"2026-02-24T18:37:58Z"}
{"id":"Sexy-8fd","title":"Create Sexy.Bot.Registry","description":"GenServer + ETS для хранения состояния каждого бота. Ключ — atom (имя бота). Значение: %{api_url, session, proxy, supervisor_pid, poller_pid}. API: set/get/update/drop/list. По паттерну Sexy.TDL.Registry из Vortex.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:55:51Z","updated_at":"2026-02-18T15:55:51Z"}
{"id":"Sexy-ajq","title":"Move Api/Sender/Notification under Sexy.Bot namespace","description":"Sexy.Api → Sexy.Bot.Api (api_url из Registry по имени бота). Sexy.Sender → Sexy.Bot.Sender (session из Registry). Sexy.Notification → Sexy.Bot.Notification. Все функции первым аргументом принимают bot_name для lookup в Registry.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:56:04Z","updated_at":"2026-02-18T15:56:04Z","dependencies":[{"issue_id":"Sexy-ajq","depends_on_id":"Sexy-8fd","type":"blocks","created_at":"2026-02-24T21:31:42Z","created_by":"m","metadata":"{}"},{"issue_id":"Sexy-ajq","depends_on_id":"Sexy-ogt","type":"blocks","created_at":"2026-02-24T21:31:42Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-bbh","title":"Refactor get_message_type: reduce cyclomatic complexity","description":"Replace 11-branch cond with Enum.find_value over @message_types list. Complexity 12 -\u003e 1.","status":"deleted","priority":2,"issue_type":"task","created_at":"2026-02-19T17:31:10Z","updated_at":"2026-02-24T18:37:56Z"}
{"id":"Sexy-cco","title":"Документация Sexy.Bot: README, API reference, примеры","description":"Обновить README.md: архитектура Sexy.Bot (DynamicSupervisor + Registry + Riser), API reference для open/close/send/notify и всех делегатов, примеры multi-bot setup, proxy конфигурация, ограничения (HTTP proxy only, no SOCKS5). Примеры: запуск нескольких ботов, взаимодействие между ботами, динамический старт/стоп.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-18T15:57:04Z","updated_at":"2026-02-18T15:57:04Z","dependencies":[{"issue_id":"Sexy-cco","depends_on_id":"Sexy-2jw","type":"blocks","created_at":"2026-02-24T21:31:44Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-cyl","title":"v0.9.5: Sexy.Bot — multi-bot with dynamic start/stop","description":"Переделать Bot API часть Sexy по паттерну TDL: DynamicSupervisor + Registry + Riser. Sexy.Bot.open(:name, token:, session:, proxy:) запускает бота, Sexy.Bot.close(:name) останавливает. Весь API переезжает из Sexy.* в Sexy.Bot.*(:name, ...). HTTPoison заменяется на Req.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-18T15:55:17Z","updated_at":"2026-02-18T16:59:56Z"}
{"id":"Sexy-e5j","title":"TEST: delete me","description":"test issue","status":"deleted","priority":4,"issue_type":"task","created_at":"2026-02-24T18:26:01Z","created_by":"m","updated_at":"2026-02-24T18:38:02Z"}
{"id":"Sexy-e6g","title":"Refactor fiat_chunk: reduce cyclomatic complexity","description":"fiat_chunk has complexity 10 (max 9). Consider extracting chunk formatting into a helper.","design":"Extract join_chunks/1 helper for reverse-chunk-join pattern. Extract split_decimal/1 to split float string by dot. All 3 clauses simplify to: convert to charlist -\u003e reverse -\u003e join_chunks, with decimal_part appended for floats. Eliminates all case branches on chunk count.","status":"deleted","priority":2,"issue_type":"task","created_at":"2026-02-19T17:31:11Z","updated_at":"2026-02-24T18:37:56Z"}
{"id":"Sexy-hsu","title":"Документация Sexy.TDL: конфиг, события, children API","description":"Написать документацию для потребителей Sexy.TDL:\n\n1. Конфигурация:\n   - :sexy, :tdlib_binary — путь к бинарнику tdlib_json_cli\n   - :sexy, :tdlib_data_root — корень данных аккаунтов\n   - Структура папок per-account: db/, files/, proxy.conf\n\n2. API использования:\n   - Sexy.TDL.Client.open(account, config, opts) — proxy: bool, children: [child_spec]\n   - Sexy.TDL.Client.close(session_name)\n   - Sexy.TDL.Client.transmit(session_name, msg)\n\n3. Модель событий (что app получает):\n   - {:recv, struct} — TDLib объект (десериализованный в struct)\n   - {:proxy_event, text} — сообщение от proxychains\n   - {:system_event, type, details} — системные события (port_failed, proxy_conf_missing)\n\n4. Children API:\n   - Riser стартует [Backend, Handler] ++ extra children\n   - App-level модули передаются через children: [...] в Client.open\n   - Все children под :one_for_all — падает один, рестартят все\n   - Порядок старта: Backend → Handler → app children (последовательно)\n\n5. Proxy:\n   - App создаёт proxy.conf до Client.open\n   - proxy: true/false в Client.open\n   - Формат proxy.conf (proxychains4)\n\n6. Генерация типов:\n   - mix sexy.tdlib.setup — интерактивная настройка\n   - Method/Object модули из types.json","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-18T15:28:24Z","updated_at":"2026-02-18T15:28:24Z"}
{"id":"Sexy-ogt","title":"Replace HTTPoison with Req","description":"Заменить {:httpoison, ~\u003e 1.8} на {:req, ~\u003e 0.5} в mix.exs. Переписать Sexy.Api: do_request/do_multipart на Req.post(). Поддержка proxy через connect_options. Req нативно поддерживает HTTP proxy с auth (user:pass@host:port). SOCKS5 пока не поддерживаем — документировать это ограничение.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:55:45Z","updated_at":"2026-02-18T15:55:45Z"}
{"id":"Sexy-t6y","title":"Create Sexy.Bot supervisor (entry point)","description":"Sexy.Bot — Supervisor, добавляется в children приложения. Стартует: Sexy.Bot.Registry + BotVisor (DynamicSupervisor). Публичный API: open/1, close/1. open запускает Riser через DynamicSupervisor.start_child, close — Supervisor.stop + Registry.drop.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-18T15:55:59Z","updated_at":"2026-02-18T15:55:59Z","dependencies":[{"issue_id":"Sexy-t6y","depends_on_id":"Sexy-3ve","type":"blocks","created_at":"2026-02-24T21:31:41Z","created_by":"m","metadata":"{}"},{"issue_id":"Sexy-t6y","depends_on_id":"Sexy-8fd","type":"blocks","created_at":"2026-02-24T21:31:41Z","created_by":"m","metadata":"{}"}]}
{"id":"Sexy-test1","title":"Test import","description":"testing","status":"deleted","priority":2,"issue_type":"task","created_at":"2026-02-24T18:26:01Z","updated_at":"2026-02-24T18:38:03Z"}
